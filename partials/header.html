<header class="site-header">
  <div class="container nav">
    <a class="brand" href="/" data-path="index.html"><strong>CP Ung</strong></a>

    <button id="menu-toggle"
            class="menu-btn"
            aria-label="Åbn menu"
            aria-controls="site-menu"
            aria-expanded="false">
      <span aria-hidden="true">☰</span>
    </button>

    <nav id="site-menu" class="site-nav" aria-label="Hovednavigation">
      <ul>
        <li><a data-path="index.html#om">Om os</a></li>
        <li><a data-path="bliv-medlem/">Bliv medlem</a></li>
        <li><a data-path="index.html#nyhedsbrev">Nyhedsbrev</a></li>
        <li><a data-path="kontakt/">Kontakt</a></li>
      </ul>
    </nav>
  </div>

  <a class="skip" href="#main">Gå til hovedindhold</a>
</header>

<style>
  .site-header{position:sticky;top:0;z-index:10;background:var(--bg);border-bottom:1px solid rgba(255,255,255,.1)}
  .nav{display:flex;align-items:center;justify-content:space-between;height:64px;gap:.75rem}
  .site-nav ul{display:flex;gap:.5rem;list-style:none;margin:0;padding:0}
  .site-nav a{text-decoration:none;color:var(--text);padding:.45rem .75rem;border-radius:8px}
  .site-nav a:hover,.site-nav a:focus{background:var(--panel)}
  .menu-btn{display:none;background:none;border:0;color:var(--text);font-size:1.5rem;line-height:1}
  .skip{position:absolute;left:0;top:-40px;background:var(--focus);color:#000;padding:.5rem .75rem;z-index:20}
  .skip:focus{top:0}
  @media(max-width:900px){
    .menu-btn{display:inline-block}
    .site-nav{position:absolute;inset-inline:0;top:64px;background:var(--bg);border-bottom:1px solid rgba(255,255,255,.1);display:none}
    .site-nav.open{display:block}
    .site-nav ul{flex-direction:column;padding:.5rem}
  }
</style>

<script>
  // Aktiver links med data-path når headeren er indlæst “som fragment”
  document.querySelectorAll('[data-path]').forEach(a=>{
    const base = document.querySelector('meta[name="site-base"]')?.content || '';
    a.setAttribute('href', base + a.getAttribute('data-path'));
  });

  // Tilgængelig hamburger
  const btn = document.getElementById('menu-toggle');
  const menu = document.getElementById('site-menu');
  if (btn && menu) {
    const toggle = (open) => {
      menu.classList.toggle('open', open);
      btn.setAttribute('aria-expanded', open ? 'true' : 'false');
      btn.setAttribute('aria-label', open ? 'Luk menu' : 'Åbn menu');
    };
    btn.addEventListener('click', ()=> toggle(!menu.classList.contains('open')));
    document.addEventListener('keydown', (e)=>{
      if(e.key==='Escape') toggle(false);
    });
  }
</script>
